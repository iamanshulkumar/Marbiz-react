{
    "name": "AdCustomerDetails",
    "base": "PersistedModel",
    "strictObjectIDCoercion": true,
    "persisteUndefinedAsNull": true,
    "options": {
      "validateUpsert": true
    },
    "mixins": {
      "LimitToTenant": true
    },
    "properties": {
      "inquiryNumber":{
        "type": "number",
        "default": 1001
      },
      "customerName": {
        "type": "string",
        "required": true
      },
      "mobileNumber": {
        "type": "string",
        "required": true
      },
      "address": {
        "type": "string",
        "required": true
      },
      "fromLocation": {
        "type": "string",
        "required": true
      },
      "fromFloor": {
        "type": "string",
        "required": true
      },
      "toLocation": {
        "type": "string",
        "required": true
      },
      "toFloor": {
        "type": "string",
        "required": true
      },
      "emailId": {
        "type": "string"
      },
      "occupation": {
        "type": "string",
        "required": true
      },
      "office": {
        "type": "string",
        "required": true
      },
      "shiftingDate": {
        "type": "date",
        "required": true
      },
      "enquiryDate": {
        "type": "date",
        "defaultFn":"now"
      },
      "lastUpdateDate": {
        "type": "date",
        "defaultFn":"now"
      },
      "shiftingType": {
        "type": "string",
        "required": true
      },
      "preparedBy": {
        "type": "string",
        "required": true
      },
      "preparedById": {
        "type": "string",
        "required": true
      },
      "ApproximatelyValue": {
        "type": "string"
      },
      "otherDetails": {
        "type": "string"
      },
      "remark": {
        "type": "string"
      },
      "birthdayDate": {
        "type": "date"
      },
      "anniversarydate": {
        "type": "date"
      },
      "createById":{
        "type":"string",
        "required": true
      },
      "status":{
        "type":"string",
        "default": "P"
      }
    },
    "validations": [],
    "relations": {
      "customerItemList":{
        "type":"hasMany",
        "model":"AdCustomerItems",
        "foreignKey":"customerID"
      },
      "costDetails":{
        "type":"hasMany",
        "model":"AdCostDetails",
        "foreignKey":"customerID"
      }
    },
    "acls": [{
      "accessType": "*",
      "principalType": "ROLE",
      "principalId": "$everyone",
      "permission": "DENY"
    },
    {
      "accessType": "EXECUTE",
      "property" : "findOccupationCustomer",
      "principalType": "ROLE",
      "principalId": "$everyone",
      "permission": "ALLOW"
    },
    {
      "accessType": "*",
      "principalType": "ROLE",
      "principalId": "$authenticated",
      "permission": "ALLOW"
    }],
    "methods": {
      "findOccupationCustomer": {
        "accepts": [
          {
            "arg": "occupationType",
            "type": "string",
            "required": false
          },
          {
            "arg": "req",
            "type": "object",
            "http": {
              "source": "req"
            }
          }
        ],
        "returns": {
          "type": "object",
          "arg": "response",
          "root": true
        },
        "description": "Get Customer list by Occupation Type",
        "http": [
          {
            "path": "/findOccupationCustomer",
            "verb": "get"
          }
        ]
      }
    }
  }
  